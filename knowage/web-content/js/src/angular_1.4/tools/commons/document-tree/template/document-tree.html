<!-- element of the tree, recursive call on this template to create the tree -->
<script type="text/ng-template" id="folders_renderer.html">
		<div layout = "row" layout-align="start center"  class="customTreeNode" ui-tree-handle>
			<md-icon ng-click='openFolder(folder)' ng-if="!folder.expanded || folder[subfoldersId].length == 0 || folder.biObjects.length == 0"  md-font-icon="fa fa-folder"></md-icon>				
			<md-icon ng-click='openFolder(folder)' ng-if="folder.expanded  && folder[subfoldersId].length != 0 && folder.biObjects.length != 0 " md-font-icon="fa fa-folder-open"></md-icon>
			<md-icon ng-if='orderBy !== undefined && orderBy.length > 0 && folder.sortDirection=="asc"' ng-click='toogleSort(folder)' class = "fa fa-sort-asc"></md-icon>
			<md-icon ng-if='orderBy !== undefined && orderBy.length > 0 && folder.sortDirection=="desc"' ng-click='toogleSort(folder)' class = "fa fa-sort-desc"></md-icon>
			<md-checkbox ng-if="multiSelect" ng-checked="folder.checked" ng-click="toogleSelected(folder)" aria-label="Checkbox"></md-checkbox>            
			<md-button ng-click='openFolder(folder)' ng-class="{'md-primary':folder.selected,'md-raised':folder.selected}" class="docs"
				context-menu data-target='{{id}}TableContextMenu-{{folder[label]}}-{{$index}}' ng-class="{ 'highlight': highlight, 'expanded' : expanded}">
					&nbsp;{{folder[label]}} 
			</md-button>
		</div>		

		<div class="dropdown_menu_list " style="z-index: 999; left: 10px !important" id="{{id}}TableContextMenu-{{folder[label]}}-{{$index}}" )>
			<md-list class="dropdown-menu bottomBorder" role="menu" ng-if="menuOption.length!=0 && menuOption!=undefined"> 
				<md-list-item ng-repeat=" menuItem in menuOption" role="menuitem" ng-click='menuItem.action(folder,folder.$parent,$event)' ng-if='menuItem.showItem === undefined || menuItem.showItem(folder,$event)' tabindex='{{$index}}' >
					{{menuItem.label}}
				</md-list-item>
			</md-list>
		</div>

		<ol id="{{id}}-tree-element-{{$parent.$index}}-{{$index}}" ui-tree-nodes="" ng-model="folder[subfoldersId]" ng-show="folder.expanded">
			<li layout="column"  layout-align="start stretch"  ng-repeat="folder in folder[subfoldersId]"  ng-show="folder.visible" ui-tree-node ng-include="'folders_renderer.html'"
data-drag-enabled="{{dragEnabled == true}}" data-clone-enabled="{{enableClone == true}}" data-drag-delay='500' data-empty-placeholder-enabled="{{showEmptyPlaceholder == true}}">
			</li>
			<li ng-if="showFiles && folder.biObjects !== undefined && folder.biObjects.length > 0" ng-repeat="biObject in folder.biObjects"  ng-show="biObject.visible" ui-tree-node >
				<div layout = "row" layout-align="start center" class="customTreeNode" ui-tree-handle>
					<md-checkbox ng-if="multiSelect" ng-checked="biObject.checked" ng-click="toogleSelected(biObject)" aria-label="Checkbox"></md-checkbox>            
					<md-button ng-class="{'md-primary':biObject.selected,'md-raised':biObject.selected}" ng-click="setSelected(biObject)" class="docs">
						<md-icon md-font-icon="fa fa-file-o" style="color: black;"></md-icon>
						{{biObject.label}}	
					</md-button>
				</div>
			</li>
		</ol>
</script>
<!-- data-drag-enabled="{{dragEnabled == true}}" data-clone-enabled="{{enableClone == true}}" data-drag-delay='500' 
		data-empty-placeholder-enabled="{{showEmptyPlaceholder == true}}" -->
<!-- create the tree structure -->
<script type="text/ng-template" id="tree_renderer.html">
	<div ui-tree  id="{{id}}-tree-container" data-drag-enabled="{{dragEnabled == true}}" data-clone-enabled="{{enableClone == true}}" data-drag-delay='500' 
		data-empty-placeholder-enabled="{{showEmptyPlaceholder == true}}">	
		<ol id = "{{id}}-tree-root" ui-tree-nodes ng-model="folders" id="tree-root">
			<li layout="column"  layout-align="start stretch" ng-repeat="folder in folders" ui-tree-node ng-include="'folders_renderer.html'"
				context-menu data-target='{{id}}TableContextMenu-{{folder[label]}}-{{$index}}' ng-class="{ 'highlight': highlight, 'expanded' : expanded}">
			</li>
		</ol>
	</div>
</script>

<!-- change layout basing on browser -->
<md-content ng-if="browser == 'firefox'" layout-padding>
	<ng-include src="'tree_renderer.html'"></ng-include>
</md-content ng-if="browser == 'firefox'">

<md-content ng-if="browser == 'chrome'" layout-padding>
	<ng-include src="'tree_renderer.html'"></ng-include>
</md-content ng-if="browser == 'chrome'">

<md-content ng-if="browser != 'chrome' && browser != 'firefox'" layout-fill>
	<ng-include src="'tree_renderer.html'"></ng-include>	
</md-content ng-if="browser != 'chrome' && browser != 'firefox'">

<style>
	.fa-folder, .fa-folder-open{
		padding-right: 4px;
		color: black;
	}
	.fa-sort-asc, .fa-sort-desc{
		width: auto;
		color: black;
	}

/* dropdown */
	.dropdown_menu_list {
		margin-top: -25px;
		position: fixed !important;
		left: 10px !important;
	}
	.dropdown_menu_list.open:before {
   	  content: '';
	  position: fixed;
	  z-index: -1;
	  top: 0;
	  left: 0;
	  right: 0;
	  bottom: 0;
  }
	
	.dropdown_menu_list md-list {
		position: absolute;
		top: 100%;
		left: 0;
		z-index: -1;
		display: none;
		float: left;
		min-width: 160px;
		padding: 5px 0;
		margin: 2px 0 0;
		font-size: 14px;
		text-align: left;
		list-style: none;
		background-color: #fff;
		background-clip: padding-box;
		border: 1px solid #ccc;
		border: 1px solid rgba(0, 0, 0, .15);
		border-radius: 4px;
		box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
	}
	
	.dropdown_menu_list.open md-list {
		display: block;
	}
	
	.dropdown_menu_list md-list.bottomBorder md-list-item button
		{
		border-bottom: 1px solid rgb(176, 190, 197);
		padding: 0;
		margin-left: 8px;
		margin-right: 8px;
		border-radius: 0;
	}

</style>