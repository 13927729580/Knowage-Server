<!-- control panel -->
<md-sidenav class="md-sidenav-right mapOptionsSidenav" md-component-id="optionSidenav" style="height:100%">
	
    <md-toolbar layout="row" class="secondaryToolbar" layout-align="start center">
      	<h2 class="md-toolbar-tools">OPTIONS</h2>
      	<span flex></span>
    </md-toolbar>

	<div ng-repeat="layer in ngModel.content.layers">
		<div class="indicatorOptions" layout="column">
			<div class="indicatorLabel"  layout="row" layout-align="start center" ng-click="toggleLayerExpanse(layer)">
				<md-icon md-font-icon="fa fa-eye" ng-if="getLayerVisibility(layer.name)" ng-click="toggleLayer($event,layer.name)"></md-icon>
				<md-icon md-font-icon="fa fa-eye-slash" ng-if="!getLayerVisibility(layer.name)" ng-click="toggleLayer($event,layer.name)"></md-icon>
				<span flex class="truncated"><md-tooltip md-delay="500">{{layer.alias}}</md-tooltip>{{layer.alias}}</span>
				<md-icon ng-if="layer.markerConf.type == 'icon'"    md-font-icon="{{ getLayerIconClassName(layer.name) }}" style="color: {{ getLayerMarkerColor(layer.name) }}"></md-icon>
				<div ng-if="layer.markerConf.type == 'url'" style="width: 24px;height: 24px;" layout-align="center center" layout="column">
					<img src="{{ getLayerMarkerImgSrc(layer.name) }}" style="max-width: 50%;max-height: 50%;"></img>
				</div>
				<div ng-if="layer.markerConf.type == 'default'" style="width: 24px;height: 24px;" layout-align="center center" layout="column">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						version="1.1"
						id="svg4505"
						width="12"
						height="12">
						<circle
							r="5.1254177"
							style="opacity:1;fill:{{ getLayerDefaultMarkerColor(layer.name) }};fill-opacity:1;stroke:#000000;stroke-width:1.74916482;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers fill stroke"
							id="path826"
							cx="5.9999995"
							cy="6" />
					</svg>
				</div>
				<md-icon md-font-icon="fa fa-chevron-down" ng-if="!layer.expandedNav"></md-icon>
				<md-icon md-font-icon="fa fa-chevron-up" ng-if="layer.expandedNav"></md-icon>
			</div>
			<md-radio-group style="padding:8px;" ng-model="layer.defaultIndicator" ng-if="layer.expandedNav">
	 	   		<md-radio-button ng-repeat="ind in ngModel.content.columnSelectedOfDataset[layer.dsId]" ng-if="ind.properties.showMap" ng-click="thematizeMeasure(layer.name, ind.aliasToShow)"  class="md-primary" ng-value="ind.name" style="font-size:.7rem;" >
		 	   		{{ind.aliasToShow}} <!-- ({{ind.properties.aggregationSelected}})  -->
		 	   	</md-radio-button>
	    	</md-radio-group>
		</div>
	</div>
</md-sidenav>