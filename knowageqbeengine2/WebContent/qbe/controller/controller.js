/**
 * Knowage, Open Source Business Intelligence suite
 * Copyright (C) 2016 Engineering Ingegneria Informatica S.p.A.
 * 
 * Knowage is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Knowage is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

/**
 * Dependencies for the Workspace main controller:
 * 		- document_viewer: Directive that provides possibility to execute a document in separate
 * 		iframe (window) that has a button for closing the executed document. When user do that,
 * 		the iframe closes and we are having the initial page (the one from which we wished to
 * 		execute the document).
 */
angular
	.module('qbe.controller', ['configuration','directive'])
	.controller('qbeController', 
		["$scope",qbeFunction]);



function qbeFunction($scope) {
	
	$scope.onDropComplete=function(data,evt){
	   var queryObject = {
	    	"id":data.id,
	    	"name":data.text,
	    	"data":"no data",
	    	"order":"",
	    	"filters": ["less than 6"]
	    }

		$scope.queryModel.push(queryObject);      
    }
	
	$scope.colors = ['#F44336', '#673AB7', '#03A9F4', '#4CAF50', '#FFEB3B', '#3F51B5', '#8BC34A', '#009688', '#F44336'];

    $scope.droppedFunction = function(data) {
        console.log(data)
    };
    
    $scope.queryModel = [];
    

    $scope.entitiesFunctions = [{
        "label": "add calculated field",
        "icon": "fa fa-calculator",
        "action": function(item, event) {
            $scope.ammacool(item, event);
        }
    }];

    $scope.fieldsFunctions = [{
        "label": "ranges",
        "icon": "fa fa-sliders",
        "action": function(item, event) {
            $scope.ammacool(item, event);
        }
    }, {
        "label": "filters",
        "icon": "fa fa-filter",
        "action": function(item, event) {
            $scope.ammacool(item, event);
        }
    }];

    $scope.openMenu = function($mdMenu, ev) {
        originatorEv = ev;
        $mdMenu.open(ev);
      };

    $scope.model = {
        'entities': [{
                "id": "it.eng.spagobi.meta.Sales::Sales",
                "text": "Sales",
                "iconCls": "fa fa-cube",
                "qtip": "Sales",
                "fa fa-list-alts": { "iconCls": "fa fa-cube", "type": "entity", "londDescription": "Sales", "linkedToWords": false },
                "children": [{ "id": "it.eng.spagobi.meta.Sales:store_sales", "text": "Store sales", "iconCls": "fa fa-cube", "leaf": true, "qtip": "Store sales", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Sales", "field": "Store sales", "longDescription": "Sales : Store sales" } }, { "id": "it.eng.spagobi.meta.Sales:store_cost", "text": "Store cost", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store cost", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Sales", "field": "Store cost", "longDescription": "Sales : Store cost" } }, { "id": "it.eng.spagobi.meta.Sales:unit_sales", "text": "Unit sales", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Unit sales", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Sales", "field": "Unit sales", "longDescription": "Sales : Unit sales" } },
                    { "id": "Promotion", "text": "-->Promotion", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Sales_Promotion<br>Source fields: [promotion_id]<br>Target entity: Promotion<br>Target fields: promotion_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Promotion", "field": "Promotion", "longDescription": "Promotion" } }, { "id": "Store", "text": "-->Store", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Sales_Store<br>Source fields: [store_id]<br>Target entity: Store<br>Target fields: store_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Store", "field": "Store", "longDescription": "Store" } }, { "id": "Time", "text": "-->Time", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Sales_Time<br>Source fields: [time_id]<br>Target entity: Time<br>Target fields: time_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Time", "field": "Time", "longDescription": "Time" } }, { "id": "Product", "text": "-->Product", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Sales_Product<br>Source fields: [product_id]<br>Target entity: Product<br>Target fields: product_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Product", "field": "Product", "longDescription": "Product" } }, { "id": "Customer", "text": "-->Customer", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Sales_Customer<br>Source fields: [customer_id]<br>Target entity: Customer<br>Target fields: customer_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Customer", "field": "Customer", "longDescription": "Customer" } }
                ]
            }, { "id": "it.eng.spagobi.meta.Product::Product", "text": "Product", "iconCls": "dimension", "qtip": "Product", "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Product", "linkedToWords": false }, "children": [{ "id": "it.eng.spagobi.meta.Product:brand_name", "text": "Brand name", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Brand name", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Brand name", "longDescription": "Product : Brand name" } }, { "id": "it.eng.spagobi.meta.Product:product_name", "text": "Product name", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Product name", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Product name", "longDescription": "Product : Product name" } }, { "id": "it.eng.spagobi.meta.Product:SKU", "text": "SKU", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "SKU", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "SKU", "longDescription": "Product : SKU" } }, { "id": "it.eng.spagobi.meta.Product:SRP", "text": "SRP", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "SRP", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "SRP", "longDescription": "Product : SRP" } }, { "id": "it.eng.spagobi.meta.Product:gross_weight", "text": "Gross weight", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Gross weight", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Gross weight", "longDescription": "Product : Gross weight" } }, { "id": "it.eng.spagobi.meta.Product:net_weight", "text": "Net weight", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Net weight", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Net weight", "longDescription": "Product : Net weight" } }, { "id": "it.eng.spagobi.meta.Product:recyclable_package", "text": "Recyclable package", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Recyclable package", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Recyclable package", "longDescription": "Product : Recyclable package" } }, { "id": "it.eng.spagobi.meta.Product:low_fat", "text": "Low fat", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Low fat", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Low fat", "longDescription": "Product : Low fat" } }, { "id": "it.eng.spagobi.meta.Product:units_per_case", "text": "Units per case", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Units per case", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Units per case", "longDescription": "Product : Units per case" } }, { "id": "it.eng.spagobi.meta.Product:cases_per_pallet", "text": "Cases per pallet", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Cases per pallet", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Cases per pallet", "longDescription": "Product : Cases per pallet" } }, { "id": "it.eng.spagobi.meta.Product:shelf_width", "text": "Shelf width", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Shelf width", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Shelf width", "longDescription": "Product : Shelf width" } }, { "id": "it.eng.spagobi.meta.Product:shelf_height", "text": "Shelf height", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Shelf height", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Shelf height", "longDescription": "Product : Shelf height" } }, { "id": "it.eng.spagobi.meta.Product:shelf_depth", "text": "Shelf depth", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Shelf depth", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product", "field": "Shelf depth", "longDescription": "Product : Shelf depth" } }, { "id": "Product class", "text": "-->Product class", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Product_Product class<br>Source fields: [product_class_id]<br>Target entity: Product class<br>Target fields: product_class_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Product class", "field": "Product class", "longDescription": "Product class" } }] }, { "id": "it.eng.spagobi.meta.Product_class::Product_class", "text": "Product class", "iconCls": "dimension", "qtip": "Product class", "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Product class", "linkedToWords": false }, "children": [{ "id": "it.eng.spagobi.meta.Product_class:product_subcategory", "text": "Product subcategory", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Product subcategory", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product class", "field": "Product subcategory", "longDescription": "Product class : Product subcategory" } }, { "id": "it.eng.spagobi.meta.Product_class:product_category", "text": "Product category", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Product category", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product class", "field": "Product category", "longDescription": "Product class : Product category" } }, { "id": "it.eng.spagobi.meta.Product_class:product_department", "text": "Product department", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Product department", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product class", "field": "Product department", "longDescription": "Product class : Product department" } }, { "id": "it.eng.spagobi.meta.Product_class:product_family", "text": "Product family", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Product family", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Product class", "field": "Product family", "longDescription": "Product class : Product family" } }] }, {
                "id": "it.eng.spagobi.meta.Time::Time",
                "text": "Time",
                "iconCls": "dimension",
                "qtip": "Time",
                "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Time", "linkedToWords": false },
                "children": [{ "id": "it.eng.spagobi.meta.Time:the_date", "text": "The date", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "The date", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "The date", "longDescription": "Time : The date" } }, { "id": "it.eng.spagobi.meta.Time:the_day", "text": "The day", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "The day", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "The day", "longDescription": "Time : The day" } }, { "id": "it.eng.spagobi.meta.Time:the_month", "text": "The month", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "The month", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "The month", "longDescription": "Time : The month" } }, { "id": "it.eng.spagobi.meta.Time:the_year", "text": "The year", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "The year", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "The year", "longDescription": "Time : The year" } },
                    { "id": "it.eng.spagobi.meta.Time:day_of_month", "text": "Day of month", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Day of month", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "Day of month", "longDescription": "Time : Day of month" } },
                    { "id": "it.eng.spagobi.meta.Time:week_of_year", "text": "Week of year", "iconCls": "fa fa-calculator", "leaf": true, "qtip": "Week of year", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "Week of year", "longDescription": "Time : Week of year" } },
                    { "id": "it.eng.spagobi.meta.Time:month_of_year", "text": "Month of year", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Month of year", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "Month of year", "longDescription": "Time : Month of year" } }, { "id": "it.eng.spagobi.meta.Time:quarter", "text": "Quarter", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Quarter", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "Quarter", "longDescription": "Time : Quarter" } },
                    { "id": "it.eng.spagobi.meta.Time:fiscal_period", "text": "Fiscal period", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Fiscal period", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Time", "field": "Fiscal period", "longDescription": "Time : Fiscal period" } }
                ]
            }, {
                "id": "it.eng.spagobi.meta.Customer::Customer",
                "text": "Customer",
                "iconCls": "dimension",
                "qtip": "Customer",
                "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Customer", "linkedToWords": false },
                "children": [{ "id": "it.eng.spagobi.meta.Customer:account_num", "text": "Account num", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Account num", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Account num", "longDescription": "Customer : Account num" } },
                    { "id": "it.eng.spagobi.meta.Customer:lname", "text": "Lname", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Lname", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Lname", "longDescription": "Customer : Lname" } }, { "id": "it.eng.spagobi.meta.Customer:fname", "text": "Fname", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Fname", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Fname", "longDescription": "Customer : Fname" } }, { "id": "it.eng.spagobi.meta.Customer:mi", "text": "Mi", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Mi", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Mi", "longDescription": "Customer : Mi" } }, { "id": "it.eng.spagobi.meta.Customer:address1", "text": "Address1", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Address1", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Address1", "longDescription": "Customer : Address1" } },
                    { "id": "it.eng.spagobi.meta.Customer:address2", "text": "Address2", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Address2", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Address2", "longDescription": "Customer : Address2" } }, { "id": "it.eng.spagobi.meta.Customer:address3", "text": "Address3", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Address3", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Address3", "longDescription": "Customer : Address3" } }, { "id": "it.eng.spagobi.meta.Customer:address4", "text": "Address4", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Address4", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Address4", "longDescription": "Customer : Address4" } }, { "id": "it.eng.spagobi.meta.Customer:city", "text": "City", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "City", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "City", "longDescription": "Customer : City" } }, { "id": "it.eng.spagobi.meta.Customer:state_province", "text": "State province", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "State province", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "State province", "longDescription": "Customer : State province" } }, { "id": "it.eng.spagobi.meta.Customer:postal_code", "text": "Postal code", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Postal code", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Postal code", "longDescription": "Customer : Postal code" } }, { "id": "it.eng.spagobi.meta.Customer:country", "text": "Country", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Country", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Country", "longDescription": "Customer : Country" } }, { "id": "it.eng.spagobi.meta.Customer:customer_region_id", "text": "Customer region id", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Customer region id", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Customer region id", "longDescription": "Customer : Customer region id" } }, { "id": "it.eng.spagobi.meta.Customer:phone1", "text": "Phone1", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Phone1", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Phone1", "longDescription": "Customer : Phone1" } }, { "id": "it.eng.spagobi.meta.Customer:phone2", "text": "Phone2", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Phone2", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Phone2", "longDescription": "Customer : Phone2" } }, { "id": "it.eng.spagobi.meta.Customer:birthdate", "text": "Birthdate", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Birthdate", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Birthdate", "longDescription": "Customer : Birthdate" } }, { "id": "it.eng.spagobi.meta.Customer:marital_status", "text": "Marital status", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Marital status", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Marital status", "longDescription": "Customer : Marital status" } }, { "id": "it.eng.spagobi.meta.Customer:yearly_income", "text": "Yearly income", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Yearly income", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Yearly income", "longDescription": "Customer : Yearly income" } }, { "id": "it.eng.spagobi.meta.Customer:gender", "text": "Gender", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Gender", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Gender", "longDescription": "Customer : Gender" } }, { "id": "it.eng.spagobi.meta.Customer:total_children", "text": "Total children", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Total children", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Total children", "longDescription": "Customer : Total children" } }, { "id": "it.eng.spagobi.meta.Customer:num_children_at_home", "text": "Num children at home", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Num children at home", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Num children at home", "longDescription": "Customer : Num children at home" } }, { "id": "it.eng.spagobi.meta.Customer:education", "text": "Education", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Education", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Education", "longDescription": "Customer : Education" } }, { "id": "it.eng.spagobi.meta.Customer:date_accnt_opened", "text": "Date accnt opened", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Date accnt opened", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Date accnt opened", "longDescription": "Customer : Date accnt opened" } }, { "id": "it.eng.spagobi.meta.Customer:member_card", "text": "Member card", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Member card", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Member card", "longDescription": "Customer : Member card" } }, { "id": "it.eng.spagobi.meta.Customer:occupation", "text": "Occupation", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Occupation", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Occupation", "longDescription": "Customer : Occupation" } }, { "id": "it.eng.spagobi.meta.Customer:houseowner", "text": "Houseowner", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Houseowner", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Houseowner", "longDescription": "Customer : Houseowner" } }, { "id": "it.eng.spagobi.meta.Customer:num_cars_owned", "text": "Num cars owned", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Num cars owned", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Num cars owned", "longDescription": "Customer : Num cars owned" } }, { "id": "it.eng.spagobi.meta.Customer:fullname", "text": "Fullname", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Fullname", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Fullname", "longDescription": "Customer : Fullname" } }
                ]
            },
            {
                "id": "it.eng.spagobi.meta.Promotion::Promotion",
                "text": "Promotion",
                "iconCls": "dimension",
                "qtip": "Promotion",
                "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Promotion", "linkedToWords": false },
                "children": [{ "id": "it.eng.spagobi.meta.Promotion:promotion_name", "text": "Promotion name", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Promotion name", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Promotion", "field": "Promotion name", "longDescription": "Promotion : Promotion name" } },
                    { "id": "it.eng.spagobi.meta.Promotion:media_type", "text": "Media type", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Media type", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Promotion", "field": "Media type", "longDescription": "Promotion : Media type" } }, { "id": "it.eng.spagobi.meta.Promotion:cost", "text": "Cost", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Cost", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Promotion", "field": "Cost", "longDescription": "Promotion : Cost" } }, { "id": "it.eng.spagobi.meta.Promotion:start_date", "text": "Start date", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Start date", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Promotion", "field": "Start date", "longDescription": "Promotion : Start date" } }, { "id": "it.eng.spagobi.meta.Promotion:end_date", "text": "End date", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "End date", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Promotion", "field": "End date", "longDescription": "Promotion : End date" } }
                ]
            }, {
                "id": "it.eng.spagobi.meta.Store::Store",
                "text": "Store",
                "iconCls": "dimension",
                "qtip": "Store",
                "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Store", "linkedToWords": false },
                "children": [{ "id": "it.eng.spagobi.meta.Store:store_type", "text": "Store type", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store type", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store type", "longDescription": "Store : Store type" } }, { "id": "it.eng.spagobi.meta.Store:store_name", "text": "Store name", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store name", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store name", "longDescription": "Store : Store name" } }, { "id": "it.eng.spagobi.meta.Store:store_number", "text": "Store number", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store number", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store number", "longDescription": "Store : Store number" } }, { "id": "it.eng.spagobi.meta.Store:store_street_address", "text": "Store street address", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store street address", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store street address", "longDescription": "Store : Store street address" } }, { "id": "it.eng.spagobi.meta.Store:store_city", "text": "Store city", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store city", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store city", "longDescription": "Store : Store city" } }, { "id": "it.eng.spagobi.meta.Store:store_state", "text": "Store state", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store state", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store state", "longDescription": "Store : Store state" } }, { "id": "it.eng.spagobi.meta.Store:store_postal_code", "text": "Store postal code", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store postal code", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store postal code", "longDescription": "Store : Store postal code" } }, { "id": "it.eng.spagobi.meta.Store:store_country", "text": "Store country", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store country", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store country", "longDescription": "Store : Store country" } }, { "id": "it.eng.spagobi.meta.Store:store_manager", "text": "Store manager", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store manager", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store manager", "longDescription": "Store : Store manager" } }, { "id": "it.eng.spagobi.meta.Store:store_phone", "text": "Store phone", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store phone", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store phone", "longDescription": "Store : Store phone" } }, { "id": "it.eng.spagobi.meta.Store:store_fax", "text": "Store fax", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store fax", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store fax", "longDescription": "Store : Store fax" } }, { "id": "it.eng.spagobi.meta.Store:first_opened_date", "text": "First opened date", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "First opened date", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "First opened date", "longDescription": "Store : First opened date" } }, { "id": "it.eng.spagobi.meta.Store:last_remodel_date", "text": "Last remodel date", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Last remodel date", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Last remodel date", "longDescription": "Store : Last remodel date" } }, { "id": "it.eng.spagobi.meta.Store:store_sqft", "text": "Store sqft", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Store sqft", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Store sqft", "longDescription": "Store : Store sqft" } }, { "id": "it.eng.spagobi.meta.Store:grocery_sqft", "text": "Grocery sqft", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Grocery sqft", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Grocery sqft", "longDescription": "Store : Grocery sqft" } }, { "id": "it.eng.spagobi.meta.Store:frozen_sqft", "text": "Frozen sqft", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Frozen sqft", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Frozen sqft", "longDescription": "Store : Frozen sqft" } }, { "id": "it.eng.spagobi.meta.Store:meat_sqft", "text": "Meat sqft", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Meat sqft", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Meat sqft", "longDescription": "Store : Meat sqft" } }, { "id": "it.eng.spagobi.meta.Store:coffee_bar", "text": "Coffee bar", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Coffee bar", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Coffee bar", "longDescription": "Store : Coffee bar" } }, { "id": "it.eng.spagobi.meta.Store:video_store", "text": "Video store", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Video store", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Video store", "longDescription": "Store : Video store" } },
                    { "id": "it.eng.spagobi.meta.Store:salad_bar", "text": "Salad bar", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Salad bar", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Salad bar", "longDescription": "Store : Salad bar" } }, { "id": "it.eng.spagobi.meta.Store:prepared_food", "text": "Prepared food", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Prepared food", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Prepared food", "longDescription": "Store : Prepared food" } }, { "id": "it.eng.spagobi.meta.Store:florist", "text": "Florist", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Florist", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Store", "field": "Florist", "longDescription": "Store : Florist" } }, { "id": "Region", "text": "-->Region", "iconCls": "fa fa-link", "leaf": true, "qtip": "fa fa-link name: BR_Store_Region<br>Source fields: [region_id]<br>Target entity: Region<br>Target fields: region_id<br>", "fa fa-list-alts": { "iconCls": "fa fa-link", "type": "fa fa-link", "entity": "Region", "field": "Region", "longDescription": "Region" } }
                ]
            }, { "id": "it.eng.spagobi.meta.Region::Region", "text": "Region", "iconCls": "dimension", "qtip": "Region", "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Region", "linkedToWords": false }, "children": [{ "id": "it.eng.spagobi.meta.Region:sales_city", "text": "Sales city", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Sales city", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Region", "field": "Sales city", "longDescription": "Region : Sales city" } }, { "id": "it.eng.spagobi.meta.Region:sales_state_province", "text": "Sales state province", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Sales state province", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Region", "field": "Sales state province", "longDescription": "Region : Sales state province" } }, { "id": "it.eng.spagobi.meta.Region:sales_district", "text": "Sales district", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Sales district", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Region", "field": "Sales district", "longDescription": "Region : Sales district" } }, { "id": "it.eng.spagobi.meta.Region:sales_region", "text": "Sales region", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Sales region", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Region", "field": "Sales region", "longDescription": "Region : Sales region" } }, { "id": "it.eng.spagobi.meta.Region:sales_country", "text": "Sales country", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Sales country", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Region", "field": "Sales country", "longDescription": "Region : Sales country" } }, { "id": "it.eng.spagobi.meta.Region:sales_district_id", "text": "Sales district id", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Sales district id", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Region", "field": "Sales district id", "longDescription": "Region : Sales district id" } }] }
        ],
        'subqueries': [{
            "id": "it.eng.spagobi.meta.Customer::Customer",
            "text": "Customer",
            "iconCls": "dimension",
            "qtip": "Customer",
            "fa fa-list-alts": { "iconCls": "dimension", "type": "entity", "londDescription": "Customer", "linkedToWords": false },
            "children": [{ "id": "it.eng.spagobi.meta.Customer:account_num", "text": "Account num", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Account num", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Account num", "longDescription": "Customer : Account num" } },
                { "id": "it.eng.spagobi.meta.Customer:lname", "text": "Lname", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Lname", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Lname", "longDescription": "Customer : Lname" } }, { "id": "it.eng.spagobi.meta.Customer:fname", "text": "Fname", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Fname", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Fname", "longDescription": "Customer : Fname" } }, { "id": "it.eng.spagobi.meta.Customer:mi", "text": "Mi", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Mi", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Mi", "longDescription": "Customer : Mi" } }, { "id": "it.eng.spagobi.meta.Customer:address1", "text": "Address1", "iconCls": "fa fa-list-alt", "leaf": true, "qtip": "Address1", "fa fa-list-alts": { "iconCls": "fa fa-list-alt", "type": "field", "entity": "Customer", "field": "Address1", "longDescription": "Customer : Address1" } },
            ]
        }]
    };
	
}